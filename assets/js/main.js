document.addEventListener("DOMContentLoaded",function(){Fancybox.bind("[data-fancybox]",{});var e=document.querySelectorAll(".animation-item");if(0<e.length){var t,l=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})},{threshold:[.5]});for(t of e)l.observe(t)}let n=document.querySelector(".scroll-top"),o=(n&&(n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",()=>{300<window.scrollY?n.classList.remove("hidden"):n.classList.add("hidden")}),300<window.scrollY?n.classList.add("scroll-top--visible"):n.classList.add("hidden")),document.querySelector(".burger"));if(o){let e=document.querySelector(".header__bottom");o.addEventListener("click",()=>{o.classList.contains("active")?document.body.classList.remove("burger-lock"):document.body.classList.add("burger-lock"),e.classList.toggle("active"),o.classList.toggle("active"),document.querySelector("html").classList.toggle("burger-lock")})}function c(e){var e=e.cloneNode(!0),t=(e.style.maxHeight="none",e.style.height="auto",e.style.opacity="0",e.style.position="absolute",e.style.pointerEvents="none",document.body.appendChild(e),e.scrollHeight);return document.body.removeChild(e),t}function a(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),document.body.classList.remove("lock"),document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style"),document.querySelector("html").style.paddingRight=0}document.querySelectorAll(".header__nav-item").forEach(t=>{let o=t.querySelector(".header__nav-sublist");t.querySelector(".header__nav-arrow")?.addEventListener("click",e=>{1024<=window.innerWidth||o.contains(e.target)||(t.classList.toggle("active"),t.classList.contains("active")?o.style.maxHeight=c(o)+"px":o.style.maxHeight=null)}),(o?.querySelectorAll(".header__nav-arrow"))?.forEach(t=>{let l=t.previousElementSibling,n=t.nextElementSibling;t.addEventListener("click",e=>{e.stopPropagation(),t.classList.toggle("active"),l.classList.toggle("active"),t.classList.contains("active")?n.style.maxHeight=n.scrollHeight+"px":n.style.maxHeight=null,o.style.maxHeight=c(o)+"px"})})});e=document.querySelectorAll(".popup-btn");let i=document.querySelectorAll(".popup"),r=document.querySelector(".original-title").innerHTML;document.querySelectorAll(".close-popup-btn").forEach(function(e){e.addEventListener("click",function(e){a(e.target.closest(".popup"))})}),e.forEach(function(o){o.addEventListener("click",function(e){e.preventDefault();var t,l=e.currentTarget.dataset.path;let n=document.querySelector(`[data-target="${l}"]`);n&&(i.forEach(function(e){a(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||a(e.target.closest(".popup"))})}),n.classList.add("active"),setTimeout(()=>{n.classList.add("open")},10),"popup-change"==n.getAttribute("data-target")&&(l=n.querySelector(".original-title"),o.classList.contains("change-item__btn")?o.classList.contains("doctor__btn-js")?(t=o.closest(".change-item").querySelector(".change-item__title"),l.innerHTML="Записаться на приём к врачу: "+t.innerHTML):o.classList.contains("change-item__btn_current")?l.textContent=o.textContent:(t=o.closest(".change-item").querySelector(".change-item__title"),l.innerHTML=t.innerHTML):l.innerHTML=r),"popup-jobs"==n.getAttribute("data-target")&&(t=o.closest(".jobs__items"),l=n.querySelector(".jobs__inner_original"))&&t.querySelector(".jobs__inner")&&(l.innerHTML=t.querySelector(".jobs__inner").innerHTML),e.stopPropagation(),l=window.innerWidth-document.body.clientWidth,document.querySelector("html").style.paddingRight=l+"px",window.innerWidth<=1024&&(document.querySelector("header").style.paddingRight=l+"px"),document.querySelector("html").classList.add("lock"))})});e=document.querySelectorAll("#map");if(0<e.length){var s,d=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&(document.querySelector('[src="https://api-maps.yandex.ru/2.1/?lang=ru_RU"]')?u():((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",e.onload=u,document.head.appendChild(e)))})},{threshold:[.5]});for(s of e)d.observe(s)}function u(){var e=document.getElementById("map-placeholder");e&&e.remove(),ymaps.ready(function(){var e=new ymaps.Map("map",{center:[47.231129,39.728721],zoom:13,controls:[]}),t=new ymaps.Placemark([47.231129,39.728721],{hintContent:"Ростов-на-Дону, ул. Красноармейская, д. 227",balloonContent:"Ростов-на-Дону, ул. Красноармейская, д. 227"},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map.png",iconImageSize:[40,40],iconImageOffset:[-20,-20]});e.geoObjects.add(t),e.behaviors.disable(["scrollZoom"])})}e=document.querySelectorAll("input[type=search]"),0<e.length&&e.forEach(a=>{let i=a.closest(".search-wrapper");if(i){let t=i.querySelector(".popup__search-result"),o=i.querySelector(".popup__search"),c=t.querySelector(".no-results-message");a.addEventListener("input",function(){let l=a.value.toUpperCase();var e=i.querySelectorAll(".search-list");let n=0;e.forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(l)?(t[e].classList.remove("none"),n++,console.log("sdd")):t[e].classList.add("none")}),c.classList.toggle("none",0<n),""===a.value.trim()?(t.classList.add("none"),o.classList.remove("none")):(t.classList.remove("none"),o.classList.add("none"))}),document.addEventListener("click",e=>{i.contains(e.target)||t.classList.add("none")})}}),e=document.querySelector(".navigation");if(e){var m=document.querySelectorAll(".text-block h1, .text-block h2, .text-block h3, .text-block h4");if(0<m.length){for(let e=0;e<m.length;e+=1){var g=m[e],p=g.textContent,v=document.querySelector(".navigation__list"),y=document.createElement("li"),h=document.createElement("a");"H1"==g.tagName&&y.classList.add("nav-title-h1"),y.classList.add("navigation__item"),"H2"==g.tagName?y.classList.add("nav-title-h2"):"H3"==g.tagName?y.classList.add("nav-title-h3"):"H4"==g.tagName?y.classList.add("nav-title-h4"):"H5"==g.tagName?y.classList.add("nav-title-h5"):"H6"==g.tagName&&y.classList.add("nav-title-h6"),h.classList.add("navigation__link"),g.setAttribute("id",""+e),h.setAttribute("href","$"+e),h.textContent=" "+p,y.append(h),v.append(y)}document.querySelectorAll('a[href^="$"').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top;window.scrollBy({top:e-140,behavior:"smooth"})})})}else e.querySelector(".navigation")&&e.querySelector(".navigation").remove();var _=document.querySelectorAll(".nav-title-h2");e.querySelector(".accordion__content");_.forEach((l,e)=>{let t=l.nextElementSibling;for(;t&&!t.classList.contains("nav-title-h2");)t.classList.toggle("close"),t=t.nextElementSibling;l.addEventListener("click",e=>{let t=l.nextElementSibling;for(l.classList.toggle("active");t&&!t.classList.contains("nav-title-h2");)t.classList.toggle("close"),t=t.nextElementSibling})})}function f(){let t=document.querySelector(".filter__buttons"),a=document.querySelectorAll(".filter__button"),i=document.querySelectorAll(".filter__element"),r=document.querySelector(".filter__hiding-button"),s=document.querySelector(".filter__hiding-buttons"),d=12,u=!1;function l(t){u=!1,a.forEach(e=>e.classList.remove("active")),document.querySelector(`.filter__button[data-tab="${t}"]`).classList.add("active");var e=document.querySelectorAll(".prices__wrap"),l=document.querySelectorAll(".faqs__main"),n=document.querySelectorAll(".articles__items");let o="block";0<e.length?o="contents":0<l.length?o="block":0<n.length&&(o="flex"),i.forEach(e=>{"0"===t||e.getAttribute("data-tab")===t?(e.style.display=o,e.classList.add("active")):(e.style.display="none",e.classList.remove("active"))});e=document.querySelector(".reviews__cards")||document.querySelector(".services__cards")||document.querySelector(".articles__items");if(e&&s){var c=Array.from(e.querySelectorAll(".filter__element")).filter(e=>"none"!==window.getComputedStyle(e).display);if(u)s.classList.add("active"),r.textContent="Скрыть";else if(console.log("ffff"),c.forEach(e=>e.classList.remove("hide")),console.log("555"),c.length>d){for(let e=d;e<c.length;e++)c[e].classList.add("hide");s.classList.add("active"),r.textContent="Смотреть еще"}else s.classList.remove("active")}}a.forEach(e=>{e.addEventListener("click",()=>{l(e.getAttribute("data-tab")),t.classList.toggle("active")})}),r&&r.addEventListener("click",()=>{var e=document.querySelector(".filter__button.active"),e=e?e.getAttribute("data-tab"):"0",e=document.querySelectorAll("0"===e?".filter__element":`.filter__element[data-tab="${e}"]`);if(u){var t=document.querySelector(".reviews__cards")||document.querySelector(".services__cards")||document.querySelector(".articles__items");if(t){var l=Array.from(t.querySelectorAll(".filter__element")).filter(e=>"none"!==window.getComputedStyle(e).display);if(l.length>d)for(let e=d;e<l.length;e++)l[e].classList.add("hide")}u=!1,r.textContent="Смотреть еще"}else e.forEach(e=>e.classList.remove("hide")),u=!0,r.textContent="Скрыть"});var e=document.querySelector(".filter__button.active");e?l(e.getAttribute("data-tab")):0<a.length&&l(a[0].getAttribute("data-tab"))}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",f):f();e=document.querySelectorAll(".opening-element");e.length&&e.forEach(l=>{var e=l.querySelector(".opening-element__btn");let n=l.querySelector(".opening-element__content");e&&e.addEventListener("click",function(e){var t;l.classList.toggle("open"),l.classList.contains("open")&&n&&(t=n.scrollHeight,n.style.maxHeight=t+"px"),!l.classList.contains("open")&&n&&(n.style.maxHeight=0)})}),new Swiper(".slider-docrors__swiper",{loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1.2},500:{slidesPerView:1},1800:{slidesPerView:2}},spaceBetween:10})}),document.addEventListener("DOMContentLoaded",function(){let r={steps:[{title:"Выберите услугу",useExisting:!0,svgIndex:1},{title:"Место оказания помощи",items:[{id:"place_1",text:"На дому",value:""},{id:"place_2",text:"В стационаре",value:""}],svgIndex:2},{title:"Срочность вызова",items:[{id:"urgency_1",text:"Стандартный",value:""},{id:"urgency_2",text:"Срочный (до 40 мин)",value:""},{id:"urgency_3",text:"Экстренный (до 20 мин)",value:""}],svgIndex:3},{title:"Состояние пациента",items:[{id:"state_1",text:"Легкое (тревожность, тремор)",value:""},{id:"state_2",text:"Среднее (рвота, давление)",value:""},{id:"state_3",text:"Тяжелое (судороги, галлюцинации)",value:""},{id:"state_4",text:"Критическое (потеря сознания)",value:""}],svgIndex:4},{title:"Дополнительные опции",items:[{id:"options_1",text:"Первичная консультация врача",value:""},{id:"options_2",text:"Экспресс-анализы и диагностика",value:""},{id:"options_3",text:"Работа с психологом",value:""},{id:"options_4",text:"Консультация для родственников",value:""},{id:"options_5",text:"Лекарства на 3-5 дней",value:""}],svgIndex:5}],prices:["9 400 ₽","12 500 ₽","7 800 ₽","15 200 ₽","11 000 ₽"],resultTitles:{"Вывод из запоя":"Вывод из запоя на дому","Кодирование":"Кодирование в клинике","Лечение зависимостей":"Лечение зависимостей","Снятие ломки":"Снятие ломки в стационаре","Психотерапия":"Психотерапия с диагностикой","Реабилитация":"Реабилитация в центре"}},s=0,d="",u=[],m=document.querySelector(".calculator__choice"),g=document.querySelector(".calculator__main"),p=document.querySelector(".calculator__wrap"),v=document.querySelector(".calculator__result"),y=document.querySelector(".calculator__image"),h=document.querySelector(".calculator__image-mob svg");if(m&&g&&p&&v&&y&&h){let n=m.querySelector(".calculator__choice-title p"),c=m.querySelector(".calculator__choice-items"),e=m.querySelector(".calculator__choice-btn"),a=document.querySelector(".calculator__result-price p"),i=document.querySelector(".calculator__result-ctegory p");var o=y.querySelector("svg");if(n&&c&&e&&a&&i&&o){let t=h.querySelectorAll("path[opacity]"),l=o.querySelectorAll("g[opacity]");function _(){for(let e=0;e<=s;e++)l[e]&&l[e].setAttribute("opacity","1");for(let e=0;e<=s;e++)t[e]&&t[e].setAttribute("opacity","1")}function f(){let t=c.querySelectorAll(".calculator__choice-item");t.forEach(e=>{e.addEventListener("click",()=>{""===d&&(d=e.querySelector("p").textContent),t.forEach(e=>{e.classList.remove("active")}),e.classList.add("active"),u[0]=e.querySelector("p").textContent,L(),_()})})}function L(){s<r.steps.length-1?null!==document.querySelector(".calculator__choice-item.active")?(e.disabled=!1,e.style.opacity="1",e.style.cursor="pointer"):(e.disabled=!0,e.style.opacity="0.5",e.style.cursor="not-allowed"):e.querySelector("p").textContent="Рассчитать"}e.addEventListener("click",function(){var o,e;s<r.steps.length-1?(s++,r.steps[s].useExisting?f():(o=s,e=r.steps[o],n.textContent=e.title,c.innerHTML="",e.items.forEach(e=>{let t=document.createElement("div");t.className="calculator__choice-item",t.dataset.id=e.id,t.dataset.value=e.value;var l=document.createElement("p"),n=(l.textContent=e.text,document.createElement("span"));t.appendChild(l),t.appendChild(n),t.addEventListener("click",()=>{document.querySelectorAll(".calculator__choice-item").forEach(e=>{e.classList.remove("active")}),t.classList.add("active"),u[o]=e.text,L(),_()}),c.appendChild(t)})),u[s]="",L(),_()):(m.style.display="none",g.style.padding="0",p.style.padding="50px 0px",y.style.display="none",h.style.display="none",v.style.display="block",l.forEach(e=>{e.setAttribute("opacity","1")}),e=r.prices[Math.floor(Math.random()*r.prices.length)],a.textContent=e,d&&r.resultTitles[d]?i.textContent=r.resultTitles[d]:i.textContent=r.resultTitles["Вывод из запоя"])}),v.style.display="none",l.forEach(e=>{e.setAttribute("opacity","0.5")}),t.forEach(e=>{e.setAttribute("opacity","0.5")}),f(),L(),_()}}}),document.addEventListener("DOMContentLoaded",function(){let o=document.querySelectorAll(".hiding__item"),e=document.querySelector(".hiding__button"),t=document.querySelector(".hiding__buttons");if(o.length&&e&&t){let l=12,n=0;var c=l,a=Math.min(c,o.length);for(let e=0;e<o.length;e++)e<a?o[e].classList.add("active"):o[e].classList.remove("active");function i(){o.length>l?(t.classList.add("active"),n>=o.length?e.textContent="Скрыть":e.textContent="Показать еще"):t.classList.remove("active")}n=a,i(),e.addEventListener("click",function(){if(n>=o.length){for(let e=0;e<o.length;e++)e<l?o[e].classList.add("active"):o[e].classList.remove("active");n=Math.min(l,o.length)}else{var t=n+l;for(let e=n;e<t&&e<o.length;e++)o[e].classList.add("active");n=Math.min(t,o.length)}i()})}});
//# sourceMappingURL=main.js.map
